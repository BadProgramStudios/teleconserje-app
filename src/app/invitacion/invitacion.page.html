<ion-header [translucent]="true" class="ion-no-border">
  <ion-toolbar mode="md">
    <ion-buttons (click)="atras()" slot="end">
      <p class="ion-padding">Volver &nbsp;</p>
    </ion-buttons>
    <ion-buttons slot="start">
      <ion-title>
        <span style="position: relative;top:4px;">
          <svg *ngIf="form.valid" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 4V5M18 16H20M14 16H12V20M12 9V12M12 12H12.01M12 12H16.01M16 20H20M4 12H8M20 12H20.01M5 8H7C7.26522 8 7.51957 7.89464 7.70711 7.70711C7.89464 7.51957 8 7.26522 8 7V5C8 4.73478 7.89464 4.48043 7.70711 4.29289C7.51957 4.10536 7.26522 4 7 4H5C4.73478 4 4.48043 4.10536 4.29289 4.29289C4.10536 4.48043 4 4.73478 4 5V7C4 7.26522 4.10536 7.51957 4.29289 7.70711C4.48043 7.89464 4.73478 8 5 8ZM17 8H19C19.2652 8 19.5196 7.89464 19.7071 7.70711C19.8946 7.51957 20 7.26522 20 7V5C20 4.73478 19.8946 4.48043 19.7071 4.29289C19.5196 4.10536 19.2652 4 19 4H17C16.7348 4 16.4804 4.10536 16.2929 4.29289C16.1054 4.48043 16 4.73478 16 5V7C16 7.26522 16.1054 7.51957 16.2929 7.70711C16.4804 7.89464 16.7348 8 17 8ZM5 20H7C7.26522 20 7.51957 19.8946 7.70711 19.7071C7.89464 19.5196 8 19.2652 8 19V17C8 16.7348 7.89464 16.4804 7.70711 16.2929C7.51957 16.1054 7.26522 16 7 16H5C4.73478 16 4.48043 16.1054 4.29289 16.2929C4.10536 16.4804 4 16.7348 4 17V19C4 19.2652 4.10536 19.5196 4.29289 19.7071C4.48043 19.8946 4.73478 20 5 20Z" stroke="#3F3F46" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <svg *ngIf="!form.valid" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M15 5V7M15 11V13M15 17V19M5 5C4.46957 5 3.96086 5.21071 3.58579 5.58579C3.21071 5.96086 3 6.46957 3 7V10C3.53043 10 4.03914 10.2107 4.41421 10.5858C4.78929 10.9609 5 11.4696 5 12C5 12.5304 4.78929 13.0391 4.41421 13.4142C4.03914 13.7893 3.53043 14 3 14V17C3 17.5304 3.21071 18.0391 3.58579 18.4142C3.96086 18.7893 4.46957 19 5 19H19C19.5304 19 20.0391 18.7893 20.4142 18.4142C20.7893 18.0391 21 17.5304 21 17V14C20.4696 14 19.9609 13.7893 19.5858 13.4142C19.2107 13.0391 19 12.5304 19 12C19 11.4696 19.2107 10.9609 19.5858 10.5858C19.9609 10.2107 20.4696 10 21 10V7C21 6.46957 20.7893 5.96086 20.4142 5.58579C20.0391 5.21071 19.5304 5 19 5H5Z" stroke="#3F3F46" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>    
        </span>
           Invitación
        </ion-title>    
      </ion-buttons>

  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">

      <form class="ion-padding" [formGroup]="form" (ngSubmit)="onSubmit()">
  
        <!-- Documento -->
        <ion-item>
          <ion-label position="stacked">Documento *</ion-label>
          <ion-input formControlName="documento" placeholder="Carnet De Identidad / Pasaporte"></ion-input>
        </ion-item>
        <ion-text color="danger" *ngIf="form.get('documento')?.hasError('rutInvalido') && form.get('documento')?.touched && form.get('tipoDocumento')?.value === 'carnet'">
          RUT inválido, por favor ingrese un RUT válido.
        </ion-text>
    
        <!-- Nombre completo -->
        <ion-item>
          <ion-label position="stacked">Nombre completo *</ion-label>
          <ion-input formControlName="nombreCompleto" placeholder="Nombre"></ion-input>
        </ion-item>
    
        <!-- Estacionamiento -->
        <ion-item>
          <ion-label position="stacked">Estacionamiento</ion-label>
          <ion-input formControlName="estacionamiento" placeholder="Estacionamiento"></ion-input>
        </ion-item>
    
        <!-- Patente -->
        <ion-item>
          <ion-label position="stacked">Patente</ion-label>
          <ion-input formControlName="patente" placeholder="Patente"></ion-input>
        </ion-item>
    
        <!-- Cantidad de horas -->
        <ion-item>
          <ion-label position="stacked">Cantidad de horas</ion-label>
          <ion-select formControlName="cantidadHoras" placeholder="1">
            <ion-select-option *ngFor="let hora of horas" [value]="hora">{{ hora }}</ion-select-option>
          </ion-select>
        </ion-item>
    
        <!-- Comentario -->
        <ion-item>
          <ion-label position="stacked">Comentario</ion-label>
          <ion-textarea formControlName="comentario" placeholder="Ingrese un comentario"></ion-textarea>
        </ion-item>
        <br>
        <!-- Botón de Enviar -->
        <ion-button shape="round" mode="ios" color="primary" expand="block" type="submit" [disabled]="!form.valid">Crear Acceso</ion-button>
    
      </form>
      <br>
      <ion-progress-bar type="indeterminate"></ion-progress-bar>
      <div class="ion-text-center">
        <span style="font-size: 12px;padding-left: 7px;color: #868686;">Esta llave es válida solo por el día - {{today  | date: 'dd/MM/yyyy'}}</span>
      </div>
      <img style="width: 100%;" src="../../assets/divider.svg" alt="">

      <ion-list>
        <ion-item lines="none">
          <svg style="position: relative;top:5px;" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M7 17.9999C5.33333 17.9999 3.91667 17.4166 2.75 16.2499C1.58333 15.0833 1 13.6666 1 11.9999C1 10.3333 1.58333 8.91661 2.75 7.74994C3.91667 6.58327 5.33333 5.99994 7 5.99994C8.1 5.99994 9.10833 6.27494 10.025 6.82494C10.9417 7.37494 11.6667 8.09994 12.2 8.99994H21C21.55 8.99994 22.0208 9.19577 22.4125 9.58744C22.8042 9.97911 23 10.4499 23 10.9999V12.9999C23 13.5499 22.8042 14.0208 22.4125 14.4124C22.0208 14.8041 21.55 14.9999 21 14.9999V15.9999C21 16.5499 20.8042 17.0208 20.4125 17.4124C20.0208 17.8041 19.55 17.9999 19 17.9999H17C16.45 17.9999 15.9792 17.8041 15.5875 17.4124C15.1958 17.0208 15 16.5499 15 15.9999V14.9999H12.2C11.6667 15.8999 10.9417 16.6249 10.025 17.1749C9.10833 17.7249 8.1 17.9999 7 17.9999ZM7 15.9999C8.1 15.9999 8.98333 15.6624 9.65 14.9874C10.3167 14.3124 10.7167 13.6499 10.85 12.9999H17V15.9999H19V12.9999H21V10.9999H10.85C10.7167 10.3499 10.3167 9.68744 9.65 9.01244C8.98333 8.33744 8.1 7.99994 7 7.99994C5.9 7.99994 4.95833 8.39161 4.175 9.17494C3.39167 9.95827 3 10.8999 3 11.9999C3 13.0999 3.39167 14.0416 4.175 14.8249C4.95833 15.6083 5.9 15.9999 7 15.9999ZM7 13.9999C7.55 13.9999 8.02083 13.8041 8.4125 13.4124C8.80417 13.0208 9 12.5499 9 11.9999C9 11.4499 8.80417 10.9791 8.4125 10.5874C8.02083 10.1958 7.55 9.99994 7 9.99994C6.45 9.99994 5.97917 10.1958 5.5875 10.5874C5.19583 10.9791 5 11.4499 5 11.9999C5 12.5499 5.19583 13.0208 5.5875 13.4124C5.97917 13.8041 6.45 13.9999 7 13.9999Z" fill="#455054"/>
            </svg>
          <h5>
            &nbsp; 
            <span style="font-weight: 900;">Invitación</span>
          </h5>
            <ion-buttons slot="end">
              <svg style="position: relative;top:5px;" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M8.68402 13.342C8.88602 12.938 9.00002 12.482 9.00002 12C9.00002 11.518 8.88602 11.062 8.68402 10.658M8.68402 13.342C8.38172 13.9464 7.88422 14.431 7.27211 14.7174C6.66001 15.0037 5.96915 15.075 5.31146 14.9197C4.65378 14.7644 4.06779 14.3916 3.64843 13.8617C3.22907 13.3317 3.00092 12.6758 3.00092 12C3.00092 11.3242 3.22907 10.6682 3.64843 10.1383C4.06779 9.60841 4.65378 9.2356 5.31146 9.08029C5.96915 8.92499 6.66001 8.99628 7.27211 9.28263C7.88422 9.56898 8.38172 10.0536 8.68402 10.658M8.68402 13.342L15.316 16.658M8.68402 10.658L15.316 7.34199M15.316 16.658C14.9601 17.3698 14.9015 18.1939 15.1532 18.9489C15.4049 19.704 15.9462 20.3281 16.658 20.684C17.3699 21.0399 18.1939 21.0985 18.949 20.8468C19.704 20.5951 20.3281 20.0538 20.684 19.342C21.0399 18.6302 21.0985 17.8061 20.8468 17.0511C20.5952 16.296 20.0539 15.6719 19.342 15.316C18.9895 15.1398 18.6058 15.0347 18.2127 15.0067C17.8197 14.9788 17.4249 15.0286 17.0511 15.1532C16.2961 15.4049 15.6719 15.9462 15.316 16.658ZM15.316 7.34199C15.4923 7.69439 15.7362 8.00863 16.0338 8.26677C16.3315 8.5249 16.6771 8.72188 17.0509 8.84645C17.4247 8.97102 17.8194 9.02074 18.2124 8.99278C18.6055 8.96482 18.9891 8.85973 19.3415 8.68349C19.6939 8.50726 20.0082 8.26334 20.2663 7.96566C20.5244 7.66798 20.7214 7.32238 20.846 6.94858C20.9705 6.57477 21.0203 6.1801 20.9923 5.78708C20.9643 5.39406 20.8593 5.01039 20.683 4.65799C20.3271 3.94628 19.703 3.40511 18.9481 3.15353C18.1932 2.90195 17.3692 2.96057 16.6575 3.31649C15.9458 3.67241 15.4046 4.29648 15.1531 5.05141C14.9015 5.80634 14.9601 6.63028 15.316 7.34199Z" stroke="#3F3F46" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              <p (click)="animacion()" style="position: relative;top:3px;" class="ion-padding">
                &nbsp;COMPARTIR</p>
            </ion-buttons>
        </ion-item>
        </ion-list>

      <div style=" background: linear-gradient(to bottom, white, #e1e1e1);padding-top: 30px;" class="segment-content ion-padding-bottom">
        <div id="qrImage">
          <div class="d-flex-center" style="position: relative;right: 35px;">
            <p style="writing-mode: vertical-rl; /* Orienta el texto en vertical */
            transform: rotate(180deg); /* Asegura que esté de abajo hacia arriba */
            text-align: center;
            font-size: 25px;
            margin-bottom: -60px; /* Espacio entre el texto y el QR */
            margin-right: 5px;
            color: #000; ">Bienvenido</p>
            <div class="d-flex-center qr-wrapper">
              <qr-code value="1982378"
              size="190" 
              errorCorrectionLevel="M" />
            </div>
          </div>
        </div>
      </div>



</ion-content>
